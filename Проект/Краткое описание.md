# Архитектура

## Состоит из:

  1) Радио (Непосредственно работает с песнями)
  2) Радиостанция (откуда Радио получает песни)

## Радио

+ Получает список песен, информацию о текущей и текущие настройки
+ Периодически сохраняет текущее состояние

### Порядок работы с состоянием

  Сначала пытается сохранить настройки на сервере.  
  Если это невозможно, сохраняет настройки на текущем устройстве.

  При получении состояния обращается сначала к серверу, затем, если сервер не ответил, к устройству.
  Если удалось получить настройки с сервера, и они более свежие, чем те, что на устройстве - использует полученные с сервера.

  **Например:**

  1) Мы зашли на сайт, но не авторизовались, послушали музыку.
  2) Зашли из другого браузера, в котором авторизованы, послушали музыку.
  3) Авторизовались в первом браузере.

  В этом случае настройки первого браузера будут тут же перезаписаны настройками из второго.  
  Если же переставить 1 и 2 события местами, будут перезаписаны настройки второго браузера.

## Радиостанция

+ Отдаёт выбранный список песен
+ Отдаёт информацию о существующих списках
